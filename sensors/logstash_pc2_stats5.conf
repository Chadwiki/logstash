input {
      file {
      #path => "/Users/cpryor/Training/elastic_training/hands-on-workshop/logs/OpenHardwareMonitorLog-2015-11-*.csv"
      path => "D:\OpenHardwareMonitor\OpenHardwareMonitorLog-2016-*csv"
      type => "sensors"
      start_position => "end"
      tags => [ "hardware", "sensor", "wattson", "kickpass2", "metrics" , "physical" ]
      }
}
filter {
    csv {
        columns => [
                "timestamp" ,
                "FanControl#1" ,
                "FanControl#2" ,
                "FanControl#3" ,
                "FanControl#4" ,
                "FanControl#5" ,
                "CPUVCore" ,
                "Voltage#2" ,
                "AVCC" ,
                "3VCC" ,
                "Voltage#5" ,
                "Voltage#6" ,
                "Voltage#7" ,
                "3VSB" ,
                "VBAT" ,
                "VTT" ,
                "Voltage#11" ,
                "Voltage#12" ,
                "Voltage#13" ,
                "Voltage#14" ,
                "Voltage#15" ,
                "Temperature#1" ,
                "Temperature#2" ,
                "Temperature#3" ,
                "Temperature#4" ,
                "Temperature#5" ,
                "Temperature#6" ,
                "LoadCPUCore#1" ,
                "LoadCPUCore#2" ,
                "LoadCPUCore#3" ,
                "LoadCPUCore#4" ,
                "LoadCPUCore#5" ,
                "LoadCPUCore#6" ,
                "LoadCPUCore#7" ,
                "LoadCPUCore#8" ,
                "LoadCPUCore#9" ,
                "LoadCPUCore#10" ,
                "LoadCPUTotal" ,
                "TempCPUCore#1" ,
                "TempCPUCore#2" ,
                "TempCPUCore#3" ,
                "TempCPUCore#4" ,
                "TempCPUCore#5" ,
                "TempCPUCore#6" ,
                "TempCPUCore#7" ,
                "TempCPUCore#8" ,
                "TempCPUCore#9" ,
                "TempCPUCore#10" ,
                "TempCPUPackage" ,
                "CPUCoreClock#1" ,
                "CPUCoreClock#2" ,
                "CPUCoreClock#3" ,
                "CPUCoreClock#4" ,
                "CPUCoreClock#5" ,
                "CPUCoreClock#6" ,
                "CPUCoreClock#7" ,
                "CPUCoreClock#8" ,
                "CPUCoreClock#9" ,
                "CPUCoreClock#10" ,
                "CPUPackage" ,
                "CPUCores" ,
                "CPUDRAM" ,
                "BusSpeed" ,
                "Memory" ,
                "UsedMemory" ,
                "AvailableMemory" ,
                "GPUCoreTemp" ,
                "GPUFan" ,
                "GPUCoreClock" ,
                "GPUMemoryClock" ,
                "GPUShaderClock" ,
                "GPUCoreLoad" ,
                "GPUMemoryControllerLoad" ,
                "GPUVideoEngineLoad" ,
                "GPUFanCtr" ,
                "GPUMemoryLoad" ,
                "UsedSpace0" ,
                "Temperature1" ,
                "RemainingLife1" ,
                "HostWritestoController1" ,
                "HostReads1" ,
                "UsedSpace1" ]
        separator => ","
    }
    if [timestamp] == "Time" {
        drop { }
    }
    if [Memory] == "/ram/load/0" {
        drop { }
    }
    if [FanControl#1] == "/lpc/nct6779d/control/0" {
    }
    date {
        match => [ "timestamp" , "MM/dd/yyyy HH:mm:ss" ]
        target => "@timestamp"
    }
    mutate {
        convert => {
                "FanControl#1" => "float"
                "FanControl#2" => "float"
                "FanControl#3" => "float"
                "FanControl#4" => "float"
                "FanControl#5" => "float"
                "CPUVCore" => "float"
                "Voltage#2" => "float"
                "AVCC" => "float"
                "3VCC" => "float"
                "Voltage#5" => "float"
                "Voltage#6" => "float"
                "Voltage#7" => "float"
                "3VSB" => "float"
                "VBAT" => "float"
                "VTT" => "float"
                "Voltage#11" => "float"
                "Voltage#12" => "float"
                "Voltage#13" => "float"
                "Voltage#14" => "float"
                "Voltage#15" => "float"
                "Temperature#1" => "integer"
                "Temperature#2" => "integer"
                "Temperature#3" => "integer"
                "Temperature#4" => "integer"
                "Temperature#5" => "integer"
                "Temperature#6" => "integer"
                "LoadCPUCore#1" => "float"
                "LoadCPUCore#2" => "float"
                "LoadCPUCore#3" => "float"
                "LoadCPUCore#4" => "float"
                "LoadCPUCore#5" => "float"
                "LoadCPUCore#6" => "float"
                "LoadCPUCore#7" => "float"
                "LoadCPUCore#8" => "float"
                "LoadCPUCore#9" => "float"
                "LoadCPUCore#10" => "float"
                "LoadCPUTotal" => "float"
                "TempCPUCore#1" => "integer"
                "TempCPUCore#2" => "integer"
                "TempCPUCore#3" => "integer"
                "TempCPUCore#4" => "integer"
                "TempCPUCore#5" => "integer"
                "TempCPUCore#6" => "integer"
                "TempCPUCore#7" => "integer"
                "TempCPUCore#8" => "integer"
                "TempCPUCore#9" => "integer"
                "TempCPUCore#10" => "integer"
                "TempCPUPackage" => "integer"
                "CPUCoreClock#1" => "float"
                "CPUCoreClock#2" => "float"
                "CPUCoreClock#3" => "float"
                "CPUCoreClock#4" => "float"
                "CPUCoreClock#5" => "float"
                "CPUCoreClock#6" => "float"
                "CPUCoreClock#7" => "float"
                "CPUCoreClock#8" => "float"
                "CPUCoreClock#9" =>"float"
                "CPUCoreClock#10" => "float"
                "CPUPackage" => "float"
                "CPUCores" => "float"
                "CPUDRAM" => "float"
                "BusSpeed" => "float"
                "Memory" => "float"
                "UsedMemory" => "float"
                "AvailableMemory" => "float"
                "GPUCoreTemp" => "float"
                "GPUFan" => "float"
                "GPUCoreClock" => "float"
                "GPUMemoryClock" => "float"
                "GPUShaderClock" => "float"
                "GPUCoreLoad" => "float"
                "GPUMemoryControllerLoad" => "float"
                "GPUVideoEngineLoad" => "float"
                "GPUFanCtr" => "float"
                "GPUMemoryLoad" => "float"
                "UsedSpace0" => "float"
                "Temperature1" => "integer"
                "RemainingLife1" => "float"
                "HostWritestoController1" => "float"
                "HostReads1" => "float"
                "UsedSpace1" => "float"
    }
  }
}

output {
  stdout {
    codec => rubydebug
  }
  elasticsearch {
    hosts => "192.168.0.155"
    index => "logstash-sensor-%{+YYYY.MM.dd}"
  }
}
